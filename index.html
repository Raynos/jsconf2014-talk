<!doctype html>
<html lang="en">

<head>
<meta charset="utf-8">

<title>Modular frontend with NPM and pals</title>

<meta name="description" content="writing modular javascript">
<meta name="author" content="Jake Verbaten">

<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<link rel="stylesheet" href="css/reveal.css">
<link rel="stylesheet" href="css/theme/night.css" id="theme">

<!-- For syntax highlighting -->
<link rel="stylesheet" href="lib/css/zenburn.css">

<!-- If the query includes 'print-pdf', use the PDF print sheet -->
<script>
document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
</script>

<style>
.time {
  width: 448px;
  margin: 30px 0 0 10px;
  float: left;
  text-align: center;
  opacity: 0;

  -webkit-transition: opacity 0.4s;
     -moz-transition: opacity 0.4s;
       -o-transition: opacity 0.4s;
          transition: opacity 0.4s;
}

.elapsed {
  color: #333;
  font-size: 2em;
  float: left;
  display: inline-block;
  padding: 0.5em;
  background-color: #eee;
  border-radius: 10px;
}

.elapsed h2,
.clock h2 {
  font-size: 0.8em;
  line-height: 100%;
  margin: 0;
  color: #aaa;
}

.elapsed .mute {
  color: #ddd;
}
</style>

<!--[if lt IE 9]>
                <script src="lib/js/html5shiv.js"></script>
                <![endif]-->
</head>

<body>

<div class="reveal">
  <div class="time">
      <div class="elapsed">
        <h2>Elapsed</h2>
        <span id="minutes">00m</span>
      </div>
    </div>
  <!-- Any section element inside of this container is displayed as a slide -->
  <div class="slides">
    <section class="slide-1">
      <h2>Modular frontend with NPM & pals</h2>

      <h3><a href="http://twitter.com/raynos">@Raynos</a></h3>
    </section>

    <section class="slide-1.5">
      <h2>Overview</h2>

      <ul>
        <li>How to use modules in your app</li>
        <li>Authoring small modules is great for collaboration</li>
        <li>You can author self-contained UI widgets as modules</li>
        <li>How to build your own custom flexible "framework" from modules</li>
      </ul>
    </section>

    <section>
    <section class="slide-2">
      <h3>Tools of the trade</h3>

      <ul>
        <li>npm</li>
        <li>browserify</li>
        <li>unix</li>
      </ul>
    </section>

    <section class="slide-3">
      <h3>npm</h3>

      <br>
      <p>
      npm is a package manager for JavaScript. It allows for
      easily authoring small modules without dependency hell
      </p>
    </section>

    <section class="slide-4">
      <h3>browserify</h3>

      <ul>
        <li>commonJS for browsers</li>
        <li>supports node_modules</li>
        <li>creates a single JS file</li>
      </ul>

      <br/><br/>
      <a href='https://github.com/substack/browserify-handbook'>Check out browserify handbook</a>
    </section>

    <section class="slide-5">
      <h3>unix</h3>

      <br>
      <blockquote>
        <p>Developers should build a program out of simple parts connected by well defined interfaces, so problems are local, and parts of the program can be replaced in future versions to support new features. This rule aims to save time on debugging code that is complex, long, and unreadable.</p>
      </blockquote> 
      
    </section>
    </section>

    <section>
    <section class="slide-6">
      <h3>Using modules</h3>

      <p>The why?</p>

      <br>
      <ul>
        <li>Pick the best of everything</li>
        <li>Use exactly what you need, no more</li>
        <li>No lock in, freedom to switch whenever</li>
      </ul>
    </section>

    <section class="slide-7">
      <h3>Using modules</h3>

      <p>The where?</p>

      <br>
      <ul>
        <li><a href='https://github.com/npm-dom'>npm-dom</a></li>
        <li><a href='http://modules.gl/'>gl-modules</a></li>
        <li><a href='http://voxeljs.com/'>voxelJS</a></li>
        <li><a href='https://www.npmjs.org/search?q=level-'>levelDB</a></li>
        <li><a href='https://github.com/substack/stream-handbook'>streams handbook</a></li>
      </ul>
    </section>

    <section class="slide-8">
      <h3>Demo time</h3>

      <p>Building a little app with modules</p>
      <a href='https://github.com/Raynos/jsconf2014-talk/blob/gh-pages/demos/spinner.js'>A small spinner app</a>
    </section>
    </section>
    
    <section>
    <section class="slide-9">
      <h3>Modules & Collaboration</h3>

      <br>
      <p>People can re-use & expand on the small modules you build</p>
    </section>

    <section class="slide-10">
      <h3>xhr</h3>

      <br>
      <p>A module that does one thing, sends http requests</p>
    </section>

    <section class="slide-11">
      <h3>And its dependents</h3>

      <br>
      <ul>
        <li><a href='https://github.com/scottcorgan/httpify'>httpify</a></li>
        <li><a href='https://github.com/nathan7/xhr-json'>xhr-json</a></li>
        <li><a href='https://www.npmjs.org/package/flatsheet'>flatsheet</a></li>
      </ul>
    </section>
    </section>

    <section class="slide-12">
      <h3>Building a modular "framework"</h3>

      <br>
      <ul>
        <li>Decompose the problem space</li>
        <li>Work from the ground up</li>
        <li>Solve each problem well in isolation</li>
      </ul>
    </section>

    <section>
    <section class="slide-13">
      <h3>A unidirectional approach</h3>

      <br>
      <p>Observable & Immutable state</p>
      <ul>
        <li><a href='https://github.com/Raynos/observ'>observ</a></li>
        <li><a href='https://github.com/Raynos/observ-hash'>observ-hash</a></li>
        <li><a href='https://github.com/Raynos/observ-array'>observ-array</a></li>
      </ul>
    </section>

    <section class="slide-14">
      <h3>A unidirectional approach</h3>

      <br>
      <p>Representing input</p>
      <ul>
        <li><a href='https://github.com/Raynos/geval'>geval</a></li>
        <li><a href='https://github.com/Raynos/value-event'>value-event</a></li>
        <li><a href='https://github.com/Raynos/dom-delegator'>dom-delegator</a></li>
      </ul>
    </section>

    <section class="slide-15">
      <h3>A unidirectional approach</h3>

      <br>
      <p>Rendering the view</p>
      <ul>
        <li><a href='https://github.com/Matt-Esch/vtree'>vtree</a></li>
        <li><a href='https://github.com/Matt-Esch/vdom'>vdom</a></li>
        <li><a href='https://github.com/Raynos/virtual-hyperscript'>virtual-hyperscript</a></li>
      </ul>
    </section>
    </section>

    <section class="slide-16">
      <h3>Demo time</h3>

      <p>Publishing UI components as modules</p>
      <a href='https://github.com/Raynos/jsconf2014-talk/blob/gh-pages/demos/github-widget.js'>Using a github widget module</a>
    </section>

    <section class="slide-17">
      <h3>Demo time</h3>

      <p>Building your own unidirectional app with modules</p>
      <a href='https://github.com/Raynos/jsconf2014-talk/blob/gh-pages/demos/todo-list.js'>A unidirectional demo</a>
    </section>

    <section class="slide-18">
      <h2>Overview</h2>

      <ul>
        <li>How to use modules in your app</li>
        <li>Authoring small modules is great for collaboration</li>
        <li>You can author self-contained UI widgets as modules</li>
        <li>How to build your own custom flexible "framework" from modules</li>
      </ul>
    </section>

    <section class="slide-19">
      <h1>Thanks.</h1>

      <h3><a href="http://twitter.com/raynos">@Raynos</a></h3>
    </section>

    <!-- Talk (npm):

This talk is about a modular frontend which is an approach not common to most frontend developers. No jQuery, no frameworks. Instead many small, simple abstractions are used, published to npm and bundled with browserify.

The NPM-style frontend prefers modularity and simple abstractions that do one thing well. THis talk includes:

 - Various approaches to creating standalone “components” or “widgets” that are published to npm, including styles & templates.
 - How to compose various modules together to build your own “framework” with your own trade offs.
 - How to compose an application from smaller applications
 - Build small UI components with thin interfaces that you glue together in your application.
 - Your entry point is small, containing the minimal glue code and each UI component addresses its own concerns.

The four stories:

 - Writing a small module, like `xhr` other people can build
    cool stuff on top of it. (httpify & xhr-json)
 - You can use small modules instead of frameworks today,
    like all these modules in npm-dom.
 - You can build your own unidirectional framework, using
    small modules.
 - You can build your own standalone component and publish it
    to npm.


-->

  </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.min.js"></script>

<script>

// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
  controls: true,
  progress: true,
  history: true,
  center: true,

  theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
  transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

  // Optional libraries used to extend on reveal.js
  dependencies: [
    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
    { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
    { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
    // { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
    // { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
  ]
});

var start = new Date(),
  timeEl = document.querySelector( '.time' ),
  clockEl = document.getElementById( 'clock' ),
  hoursEl = document.getElementById( 'hours' ),
  minutesEl = document.getElementById( 'minutes' ),
  secondsEl = document.getElementById( 'seconds' );

setInterval( function() {

  timeEl.style.opacity = 1;

  var diff, hours, minutes, seconds,
    now = new Date();

  diff = now.getTime() - start.getTime();
  hours = Math.floor( diff / ( 1000 * 60 * 60 ) );
  minutes = Math.floor( ( diff / ( 1000 * 60 ) ) % 60 );
  seconds = Math.floor( ( diff / 1000 ) % 60 );

  // clockEl.innerHTML = now.toLocaleTimeString();
  // hoursEl.innerHTML = zeroPadInteger( hours );
  // hoursEl.className = hours > 0 ? "" : "mute";
  minutesEl.innerHTML = zeroPadInteger( minutes ) + "m";
  minutesEl.className = minutes > 0 ? "" : "mute";
  console.log("setting minutes", minutes)
  // secondsEl.innerHTML = ":" + zeroPadInteger( seconds );

}, 1000 );


      function zeroPadInteger( num ) {
        var str = "00" + parseInt( num );
        return str.substring( str.length - 2 );
      }

</script>

</body>
</html>
